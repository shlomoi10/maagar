<!DOCTYPE html>
<html>
<head>
    <title>My Website with Firebase</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>
</head>
<body>
    <h1>Page Views: <span id="page-views">Loading...</span></h1>
    <button id="like-button">Like</button>
    <p>Button Clicks: <span id="button-clicks">Loading...</span></p>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID",
            measurementId: "YOUR_MEASUREMENT_ID"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Increment page views
        const pageViewsRef = db.collection('counts').doc('page_views');
        pageViewsRef.get().then((doc) => {
            if (doc.exists) {
                pageViewsRef.update({ count: firebase.firestore.FieldValue.increment(1) });
            } else {
                pageViewsRef.set({ count: 1 });
            }
        }).catch((error) => {
            console.error("Error getting document: ", error);
        });

        // Display page views
        pageViewsRef.onSnapshot((doc) => {
            if (doc.exists) {
                document.getElementById('page-views').innerText = doc.data().count;
            }
        });

        // Increment button clicks
        const buttonClicksRef = db.collection('counts').doc('like_button_clicked');
        document.getElementById('like-button').addEventListener('click', () => {
            buttonClicksRef.get().then((doc) => {
                if (doc.exists) {
                    buttonClicksRef.update({ count: firebase.firestore.FieldValue.increment(1) });
                } else {
                    buttonClicksRef.set({ count: 1 });
                }
            }).catch((error) => {
                console.error("Error getting document: ", error);
            });
        });

        // Display button clicks
        buttonClicksRef.onSnapshot((doc) => {
            if (doc.exists) {
                document.getElementById('button-clicks').innerText = doc.data().count;
            }
        });
    </script>
</body>
</html>
